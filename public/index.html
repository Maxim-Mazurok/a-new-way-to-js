<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>A new way to JavaScript</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i&amp;subset=cyrillic,cyrillic-ext,latin-ext"
          rel="stylesheet">
    <style>
        @font-face {
            font-family: 'DejaVu Sans Mono';
            src: url('res/fonts/DejaVuSansMono-webfont.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'DejaVu Sans Mono';
            src: url('res/fonts/DejaVuSansMono-Bold-webfont.woff') format('woff');
            font-weight: bold;
            font-style: normal;
        }


        .code-block {
            font-family: 'DejaVu Sans Mono', monospace;
            white-space: nowrap;
            background-color: #000;
            text-align: left;
            font-size: 3.4vh;
            color: #ffffff;
            padding: 1em;
            box-sizing: border-box;
        }

        .code-block > p {
            line-height: 1.5;
        }

        .c0 {
            color: #a9b7c6;
        }

        .c5 {
            color: #cc7832;
        }

        .c3 {
            color: #cc7832;
            font-weight: 700
        }

        .c6 {
            color: #ffc66d
        }

        .c10 {
            color: #6a8759
        }

        .c8 {
            color: #9876aa
        }

        .c1 {
            color: #a9b7c6
        }

        * {
            padding: 0;
            line-height: 1;
            margin: auto;
        }

        .ml-0 * {
            margin-left: 0;
        }

        body {
            font-family: 'Open Sans', Arial, 'Helvetica Neue', Helvetica, sans-serif;
            color: #000;
            background: #fff;
        }

        section {
            height: 100vh;
            width: 100%;
            display: flex;
            flex-direction: column;
            text-align: center;
            padding: 4vh;
            box-sizing: border-box;
        }

        .image {
            background-position: center;
            background-size: contain;
            background-repeat: no-repeat;
            overflow: hidden;
            height: 100%;
            width: 100%;
        }

        h1 {
            font-size: 12vh;
        }

        h2 {
            font-size: 6vh;
        }


        h3 {
            font-size: 3vh;
        }

        .row {
            display: flex;
            flex-direction: row;
            align-content: space-between;
            width: 100%;
        }

        .col {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100%;
        }
    </style>
    <script>
      const NEXT = true;
      const PREV = false;

      handleClickNavigation();
      handleKeyNavigation();

      function handleKeyNavigation() {
        document.onkeydown = function(event) {
          if (['ArrowRight', 'ArrowLeft'].indexOf(event.key) !== -1) {
            event.preventDefault();
            if (event.key === 'ArrowRight') {
              navigate(NEXT);
            } else if (event.key === 'ArrowLeft') {
              navigate(PREV);
            } else {
              console.warn('Unknown key pressed');
            }
          }
        };
      }

      function navigate(direction) {
        if (!window.location.hash) {
          window.location.hash = '1';
        } else {
          if (direction !== NEXT || !checkAndType()) {
            let hash = (parseInt(window.location.hash.replace(/[^\d]/g, '')) +
                (direction === NEXT ? 1 : -1)).toString();
            let target = document.getElementById(hash);
            if (target) {
              target.scrollIntoView({
                behavior: 'smooth',
                block: 'start',
              });
              history.pushState(null, null, `#${hash}`);
            }
          }
        }
      }

      function handleClickNavigation() {
        const viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);

        document.ontouchstart = document.onclick = function(event) {
          event.preventDefault();
          if ((event.clientX || event.touches[0].clientX) > viewportWidth / 2) {
            navigate(NEXT);
          } else {
            navigate(PREV);
          }
        };
      }
    </script>
</head>
<body>
<section>
    <div class="image"
         style="max-height: 269px; background-image:url(res/images/deno.png);">

    </div>
    <h1 style="margin-bottom: 10%;">A new way to JavaScript</h1>
    <div class="row" style="height: 30vh;">
        <div class="col">
            <h2 style="margin-bottom: 3vh;">TypeScript</h2>
            <div class="image"
                 style="margin-top: 0; max-height: 150px; background-image:url(res/images/ts.png);"></div>
        </div>
        <div class="col">
            <h2 style="margin-bottom: 3vh;">Angular</h2>
            <div class="image"
                 style="margin-top: 0; max-height: 150px; background-image:url(res/images/angular.png);"></div>
        </div>
        <div class="col">
            <h2 style="margin-bottom: 3vh;">Deno</h2>
            <div class="image"
                 style="margin-top: 0; max-height: 150px; background-image:url(res/images/deno.gif);"></div>
        </div>
        <div class="col">
            <h2 style="margin-bottom: 3vh;">Interview</h2>
            <div class="image"
                 style="margin-top: 0; max-height: 150px; background-image:url(res/images/google.png);"></div>
        </div>
    </div>
</section>
<section>
    <div class="image"
         style="height: 14vh; max-width: 50vw; background-image:url(res/images/ts-logo.svg);"></div>
    <h1 style="text-align: left; width: 90vw;font-size: 5vh;">A typed superset of JavaScript that compiles
        to plain
        JavaScript.</h1>
    <h2 style="text-align: left; width: 90vw;font-size: 5vh; margin-top: 2vh; display: block;">Any browser. Any host.
        Any
        OS. Open source.</h2>
    <div class="row" style="width: 90vw;">
        <div class="col">
            <div class="code-block">
                <p><span class="c3">function </span><span class="c6">countLetters</span><span
                        class="c1">(word: </span><span class="c3">string</span><span class="c1">): </span><span
                        class="c3">number </span><span
                        class="c0">{</span></p>
                <p class="c2"><span class="c1">&nbsp; &nbsp;</span><span
                        class="c3">return </span><span class="c1">word.</span><span class="c8">length</span><span
                        class="c5">;</span></p>
                <p class="c2"><span class="c0">}</span></p>
                <br>
                <p class="c2"><span class="c6">countLetters</span><span class="c1">(</span><span class="c10">&#39;Maxim&#39;</span><span
                        class="c1">)</span><span class="c5">;</span></p>
            </div>
        </div>
        <div class="col">
            <div class="image"
                 style="margin-right: 0; background-position: bottom; width: 10vw; background-image:url(res/images/ts.png);"></div>
        </div>
    </div>
</section>
<section>
    <div class="image"
         style="height: 14vh; max-height: 72px; max-width: 50vw; background-image:url(res/images/angular-logo.png);"></div>
    <h1 style="text-align:left; max-width: 90vw;font-size: 5vh;">One framework. Mobile & desktop.</h1>
    <h2 style="text-align:left; max-width: 90vw;font-size: 5vh;">Super-powered by Google</h2>
    <div style="max-width: 90vw; display: grid;grid-template-columns: 1fr 1fr 1fr; grid-column-gap: 5vw; grid-row-gap: 1vh;">
        <h3 style="margin-left: 0;">- PWAs</h3>
        <h3 style="margin-left: 0;">- Native</h3>
        <h3 style="margin-left: 0;">- Desktop</h3>
        <h3 style="margin-left: 0;">- Code Generation</h3>
        <h3 style="margin-left: 0;">- Universal</h3>
        <h3 style="margin-left: 0;">- Code Splitting</h3>
        <h3 style="margin-left: 0;">- Templates</h3>
        <h3 style="margin-left: 0;">- Angular CLI</h3>
        <h3 style="margin-left: 0;">- IDEs</h3>
        <h3 style="margin-left: 0;">- Testing</h3>
        <h3 style="margin-left: 0;">- Animation</h3>
        <h3 style="margin-left: 0;">- Accessibility</h3>
    </div>
</section>
<section>
    <div class="image"
         style="max-height: 206px; background-image:url(res/images/meetup.png); margin-bottom: 5vh;"></div>
    <div class="image"
         style="max-height: 4160px; background-image:url(res/images/angular-cup.jpg);"></div>
</section>
<section>
    <div class="image"
         style="height: 50%; max-width: 300px; background-image:url(res/images/deno.png);"></div>
    <h1 style="text-align: left; width: 90vw;font-size: 5vh;">Deno (<a href="https://deno.land/">deno.land</a>) is...
        <span class="image"
              style="height: 1em; width: 1em; display: inline-block; background-image:url(res/images/two-hearts.png);"></span>
    </h1>
    <h1 style="text-align: left; width: 90vw;font-size: 5vh;">- TypeScript runtime
    </h1>
    <h1 style="text-align: left; width: 90vw;font-size: 5vh;">- built by Node.js author,
        <a href="https://tinyclouds.org/">Ryan Dahl</a>
    </h1>
    <h1 style="text-align: left; width: 90vw;font-size: 5vh;">- browser compatible
        <span class="image"
              style="height: 1em; width: 1em; display: inline-block; background-image:url(res/images/party-popper.png);"></span>
    </h1>
</section>
<section>
    <h1 style="text-align: left; font-size: 6vh; position:relative; display: inline-block;">
        Philosophy
        <span class="image"
              style="top: 0; bottom: 0; right: -12vh; position: absolute; height: 10vh; width: 10vh; display: inline-block; background-image:url(res/images/zen-brush-symbol.svg);"></span>
    </h1>
    <h1 style="text-align: left; width: 90vw;font-size: 4.2vh;">
        - productive and secure scripting environment for the modern programmer
    </h1>
    <h1 style="text-align: left; width: 90vw;font-size: 4.2vh;">
        - single (< 50mb) executable to run any deno program
    </h1>
    <h1 style="text-align: left; width: 90vw;font-size: 4.2vh;">
        - uses a standard browser-compatible protocol for loading modules: URLs
    </h1>
    <h1 style="text-align: left; width: 90vw;font-size: 4.2vh;">
        - Android/iOS-like security model, uses restrictive secure sandbox by default
    </h1>
</section>
<section>
    <h1 style="text-align: left; font-size: 6vh; position:relative; display: inline-block;">
        Support TypeScript out of the box.
        <span class="image"
              style="top: 0; bottom: 0; right: -24vh; position: absolute; height: 20vh; width: 20vh; display: inline-block; background-image:url(res/images/box.png);"></span>
    </h1>
    <div class="code-block" style="width: 90vw; line-height: 2; height: 50vh; min-height: calc(3.4vh * 4 * 1.2 + 2em);">
        [maxim@mazurok ~]$ <span class="to-type"
                                 data-text="deno count_letters.ts__ENTER__`Compiling /count_letters.ts__BR__``Total letters count: 5__BR__``[maxim@mazurok ~]$ `"></span><span
            id="cursor">█</span>
    </div>
</section>
<!--<section style="width: 90vw; text-align: left;" class="ml-0">-->
<!--    <h2>Install</h2>-->
<!--    <h3 style="text-align: left; width: 100%; margin-bottom: 3vh;">Linux or Mac</h3>-->
<!--    <div class="code-block" style="margin-top: 0;">-->
<!--        curl -fL https://deno.land/x/install/install.sh | sh-->
<!--    </div>-->
<!--    <h4 style="margin-bottom: 3vh;">Windows PowerShell</h4>-->
<!--    <div class="code-block" style="font-size: 2vh; margin-top: 0;">-->
<!--        iex (iwr https://deno.land/x/install/install.ps1)-->
<!--    </div>-->

<!--    <h2>Run</h2>-->
<!--    <div class="code-block">-->
<!--        deno https://deno.land/welcome.js-->
<!--    </div>-->
<!--</section>-->
<script>
  let sections = document.querySelectorAll('body > section');
  let i = 1;
  sections.forEach((section) => {
    section.setAttribute('id', i.toString());
    i++;
  });
  if (!window.location.hash) window.location.hash = '1';
</script>
<script>
  document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] +
      ':35729/livereload.js?snipver=1"></' + 'script>');
</script>
<script>
  function isElementInViewport(el) {
    const rect = el.getBoundingClientRect();

    return (
        rect.top >= 0 &&
        rect.left >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
  }
</script>
<script>
  let cursorInterval;

  function getCursor() {
    return document.getElementById('cursor');
  }

  function idleCursor() {
    cursorInterval = setInterval(() => {
      const cursor = getCursor();
      cursor.style.color = cursor.style.color === 'rgb(0, 0, 0)' ? '#fff' : '#000';
    }, 500);
  }

  function activeCursor() {
    clearInterval(cursorInterval);
    const cursor = getCursor();
    cursor.style.color = '#fff';
  }

  function typeReset(element) {
    console.log('reset');
    element.innerText = '';
    element.classList.add('to-type');
  }

  function type(element, index) {
    activeCursor();
    const text = element.dataset.text.replace(/__ENTER__/g, '\n').replace(/__BR__/g, '\r');
    if (index <= text.length - 1) {
      setTimeout(() => {
        let textToType = text[index],
            i = 0;
        if (text[index] === '\n') textToType = `  ⏎${text[index]}`;//[maxim@mazurok ~]$ `;
        if (text[index] === '\r') textToType = '\n';
        else if (text[index] === '`') {
          let x = null;
          while (x !== '`') {
            i++;
            x = text[index + i];
            textToType += x;
          }
          textToType = textToType.replace(/`/g, '');
        }
        if (textToType.length > 1) {
          setTimeout(() => {
            element.innerText += textToType;
            type(element, index + i + 1);
          }, 1000);
        } else {
          element.innerText += textToType;
          type(element, index + i + 1);
        }
        // }, Math.max(100, Math.random() * 500));
      }, Math.random() * 100);
    } else {
      idleCursor();
    }
  }

  function checkAndType() {
    let haveElementsToType = false;
    document.querySelectorAll('[data-text]').forEach((element) => {
      if (isElementInViewport(element)) {
        if (element.classList.contains('to-type')) {
          haveElementsToType = true;
          element.classList.remove('to-type');
          type(element, 0);
        }
      } else {
        typeReset(element);
      }
    });
    return haveElementsToType;
  }

  idleCursor();
</script>
</body>
</html>